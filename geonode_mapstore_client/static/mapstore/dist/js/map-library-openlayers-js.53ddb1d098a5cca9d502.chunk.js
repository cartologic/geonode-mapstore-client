(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[6037,5992,5378,3581],{21914:(e,t,n)=>{"use strict";n.d(t,{XL:()=>o,km:()=>i,Ih:()=>a,Xw:()=>u,Pn:()=>s,DZ:()=>c,e8:()=>p,E0:()=>l,F9:()=>f,X_:()=>y,pb:()=>d,qb:()=>m,Re:()=>v,ih:()=>b,xy:()=>h,jL:()=>g,oz:()=>O,ph:()=>E,lF:()=>P,gG:()=>w,cb:()=>j,GI:()=>_,B1:()=>x,fv:()=>R,gc:()=>S,zX:()=>I,ZF:()=>T,Zb:()=>M,DW:()=>N,Xp:()=>F,Fm:()=>A,sV:()=>q,Mn:()=>L,LU:()=>C,XP:()=>k,WU:()=>D,JB:()=>G,g:()=>Z,ws:()=>U,HP:()=>B,aN:()=>Y,Pg:()=>W,u0:()=>X,TM:()=>z,PM:()=>K,lK:()=>V,sv:()=>Q,MO:()=>$,oO:()=>J,Mc:()=>ee,Zw:()=>te,RA:()=>ne,am:()=>re,ZM:()=>oe,wm:()=>ie,Y$:()=>ae,Qu:()=>ue,kT:()=>se});var r=n(47310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",a="EXCEPTIONS_FEATURE_INFO",u="CHANGE_MAPINFO_STATE",s="NEW_MAPINFO_REQUEST",c="PURGE_MAPINFO_RESULTS",p="CHANGE_MAPINFO_FORMAT",l="SHOW_MAPINFO_MARKER",f="HIDE_MAPINFO_MARKER",y="SHOW_REVERSE_GEOCODE",d="HIDE_REVERSE_GEOCODE",m="GET_VECTOR_INFO",v="NO_QUERYABLE_LAYERS",b="CLEAR_WARNING",h="FEATURE_INFO_CLICK",g="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",O="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",E="TOGGLE_MAPINFO_STATE",P="UPDATE_CENTER_TO_MARKER",w="IDENTIFY:CHANGE_PAGE",j="IDENTIFY:CLOSE_IDENTIFY",_="IDENTIFY:CHANGE_FORMAT",x="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",R="IDENTIFY:EDIT_LAYER_FEATURES",S="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",I="IDENTIFY:SET_MAP_TRIGGER",T="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",M="IDENTIFY:SET_SHOW_IN_MAP_POPUP",N="IDENTIFY:IDENTIFY_IS_MOUNTED",F="IDENTIFY:INIT_PLUGIN";function A(e,t,n,r,i){return{type:o,data:t,reqId:e,requestParams:n,layerMetadata:r,layer:i}}function q(e,t,n,r){return{type:i,error:t,reqId:e,requestParams:n,layerMetadata:r}}function L(e,t,n,r){return{type:a,reqId:e,exceptions:t,requestParams:n,layerMetadata:r}}function C(){return{type:v}}function k(){return{type:b}}function D(e,t){return{type:s,reqId:e,request:t}}function G(e,t,n,r){return{type:m,layer:e,request:t,metadata:n,queryableLayers:r}}function Z(){return{type:c}}function U(e){return{type:p,infoFormat:e}}function B(){return{type:l}}function Y(){return{type:f}}function H(e){return{type:y,reverseGeocodeData:e.data}}function W(e){return function(t){r.Z.reverseGeocode(e).then((function(e){t(H(e))})).catch((function(e){t(H(e))}))}}function X(){return{type:d}}function z(){return{type:E}}function K(e){return{type:P,status:e}}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:h,point:e,layer:t,filterNameList:n,overrideParams:r,itemId:o}}function Q(e){return{type:g,point:e}}function $(e){return{type:O,enabled:e}}function J(e){return{type:w,index:e}}var ee=function(){return{type:j}},te=function(e){return{type:_,format:e}},ne=function(e){return{type:x,showCoordinateEditor:e}},re=function(e){return{type:R,layer:e}},oe=function(e){return{type:S,query:e}},ie=function(e){return{type:I,trigger:e}},ae=function(e){return{type:M,value:e}},ue=function(e){return{type:N,isMounted:e}},se=function(e){return{type:F,cfg:e}}},47310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(75875),o=n.n(r),i=n(72500),a=n.n(i),u=n(27418),s=n.n(u),c={format:"json",bounded:0,polygon_geojson:1,priority:5},p={geocode:function(e,t){var n=s()({q:e},c,t||{}),r=a().format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return o().get(r)},reverseGeocode:function(e,t){var n=s()({lat:e.lat,lon:e.lng},t||{},c),r=a().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return o().get(r)}};const l=1219!=n.j?p:null},42872:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(24852),o=n.n(r),i=n(45697),a=n.n(i),u=n(88798),s=n(15402),c=n(5346),p=n(30294);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function m(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(u,e);var t,n,r,i,a=(r=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(i){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function u(){var e;f(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(v(e=a.call.apply(a,[this].concat(n))),"onTouchStart",(function(t){var n=t.touches[0];e.startX=n.pageX,e.startY=n.pageY,e.setState({scrolling:!1})})),h(v(e),"onTouchMove",(function(t){var n=t.touches[0],r=t.currentTarget;if(e.state.scrolling)t.stopPropagation();else if(Math.abs(e.startY-n.pageY)>Math.abs(e.startX-n.pageX))t.stopPropagation();else{var o=e.startX<n.pageX?"left":"right";(r&&"left"===o&&r.clientWidth<r.scrollWidth&&0!==r.scrollLeft||r&&"right"===o&&r.clientWidth+r.scrollLeft!==r.scrollWidth)&&(e.setState({scrolling:!0}),t.stopPropagation())}})),h(v(e),"onTouchEnd",(function(){e.setState({scrolling:!1})})),h(v(e),"renderPage",(function(){var t="function"==typeof e.props.viewers?e.props.viewers:e.props.viewers[e.props.format];return t?o().createElement(t,{response:e.props.response,layer:e.props.layer}):null})),e}return t=u,(n=[{key:"render",value:function(){return o().createElement("div",{style:{width:"100%",height:"100%",overflowX:"auto"},onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd},this.renderPage())}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(o().Component);h(g,"propTypes",{format:a().string,viewers:a().oneOfType([a().func,a().object]),response:a().oneOfType([a().string,a().object,a().node]),layer:a().object});var O=n(41609),E=n.n(O),P=n(31351),w=n.n(P),j=n(10240),_=n.n(j),x=n(2870);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},M(e,t)}function N(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(l,e);var t,n,r,i,a=(r=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(r);if(i){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return N(this,e)});function l(){var e;I(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return q(F(e=a.call.apply(a,[this].concat(n))),"getResponseProperties",(function(){var t=e.props.validator(e.props.format),n=e.props.responses.map((function(e){return void 0===e?{}:e})),r=e.props.renderValidOnly?t.getValidResponses(n):n,o=t.getNoValidResponses(e.props.responses),i=e.props.requests.length===o.length;return{validResponses:r,currResponse:e.getCurrentResponse(r[e.props.index]),emptyResponses:i,invalidResponses:o}})),q(F(e),"getCurrentResponse",(function(t){return e.props.validator(e.props.format).getValidResponses([t])})),q(F(e),"renderEmptyLayers",(function(){var t=e.getResponseProperties(),n=t.invalidResponses,r=t.emptyResponses;if(0===e.props.missingResponses&&r)return null;var i=0!==n.length;if(e.props.renderValidOnly||(i=i&&0===e.props.missingResponses),i){var a=n.map((function(e){return e.layerMetadata.title}));return e.props.showEmptyMessageGFI&&!e.props.disableInfoAlert?o().createElement(p.Alert,{bsStyle:"info"},o().createElement(c.Z,{msgId:"noInfoForLayers"}),o().createElement("b",null,a.join(", "))):null}return null})),q(F(e),"renderPage",(function(t){var n=e.props.viewers[e.props.format];return n?o().createElement(n,{response:t}):null})),q(F(e),"renderEmptyPages",(function(){var t=e.getResponseProperties().emptyResponses;return 0===e.props.missingResponses&&t?o().createElement(p.Alert,{bsStyle:"danger"},o().createElement("h4",null,o().createElement(s.Z,{msgId:"noFeatureInfo"}))):null})),q(F(e),"renderPages",(function(){var t=e.getResponseProperties().validResponses;return t.map((function(n,r){var i,a,s=n.response,c=n.layerMetadata,l=(0,x.Q)(n,e.props),f=e.props.header;null!=c&&null!==(i=c.viewer)&&void 0!==i&&i.type&&(a=(0,u.gA)(c.viewer.type));var y=t.filter((function(e){return!_()(e.response,"no features were found")})).length;return o().createElement(p.Panel,{eventKey:r,key:r,collapsible:e.props.collapsible,header:f?o().createElement("span",null,o().createElement(f,S({size:y},e.props.headerOptions,c,{index:e.props.index,onNext:function(){return e.props.onNext()},onPrevious:function(){return e.props.onPrevious()}}))):null,style:e.props.style},o().createElement(g,{response:s,format:l,viewers:a||e.props.viewers,layer:c}))}))})),q(F(e),"containerStyle",(function(t){return E()(t)&&e.props.isMobile?{height:"100%"}:{display:E()(t)?"none":"block"}})),e}return t=l,(n=[{key:"shouldComponentUpdate",value:function(e){return e.responses!==this.props.responses||e.missingResponses!==this.props.missingResponses||e.index!==this.props.index}},{key:"render",value:function(){var e=this,t=this.props.container,n=this.getResponseProperties(),r=n.currResponse,i=n.emptyResponses,a=[this.renderEmptyLayers(),o().createElement(t,S({},this.props.containerProps,{onChangeIndex:function(t){e.props.setIndex(t)},ref:"container",index:this.props.index||0,key:"swiper",style:this.containerStyle(r),className:"swipeable-view"}),this.renderPages())];return a=this.props.isMobile?a:w()(a),o().createElement("div",{className:"mapstore-identify-viewer"},i?this.renderEmptyPages():a.map((function(e){return e})))}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(o().Component);q(L,"propTypes",{format:a().string,collapsible:a().bool,requests:a().array,responses:a().array,missingResponses:a().number,container:a().oneOfType([a().object,a().func]),header:a().oneOfType([a().object,a().func]),headerOptions:a().object,validator:a().func,viewers:a().object,style:a().object,containerProps:a().object,index:a().number,onNext:a().func,onPrevious:a().func,onUpdateIndex:a().func,setIndex:a().func,showEmptyMessageGFI:a().bool,renderValidOnly:a().bool,loaded:a().bool,isMobile:a().bool,disableInfoAlert:a().bool}),q(L,"defaultProps",{format:(0,u.wR)(),responses:[],requests:[],missingResponses:0,collapsible:!1,headerOptions:{},container:p.Accordion,validator:u.Te,viewers:(0,u.Qm)(),style:{position:"relative",marginBottom:0},containerProps:{},showEmptyMessageGFI:!0,renderValidOnly:!1,onNext:function(){},onPrevious:function(){},setIndex:function(){},isMobile:!1,disableInfoAlert:!1});const C=L},79870:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(45697),o=n.n(r),i=n(24852),a=n.n(i),u=n(30294),s=n(38560);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function y(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(o){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function c(){var e;p(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=i.call.apply(i,[this].concat(n))),"renderLeftButton",(function(){var t=0===e.props.index;return e.props.useButtons?a().createElement(s.Z,{ref:"left",disabled:t,className:e.props.btnClassName||"square-button-md no-border",onClick:function(){e.props.onPrevious()}},a().createElement(u.Glyphicon,{glyph:"back"})):a().createElement("a",{ref:"left",disabled:t,className:e.props.btnClassName||"square-button-md",onClick:function(){e.props.onPrevious()}},a().createElement(u.Glyphicon,{glyph:"back"}))})),v(d(e),"renderRightButton",(function(){var t=e.props.index===e.props.size-1;return e.props.useButtons?a().createElement(s.Z,{ref:"right",disabled:t,className:e.props.btnClassName||"square-button-md no-border",onClick:function(){e.props.onNext()}},a().createElement(u.Glyphicon,{glyph:"next"})):a().createElement("a",{ref:"right",disabled:t,className:e.props.btnClassName||"square-button-md",onClick:function(){e.props.onNext()}},a().createElement(u.Glyphicon,{glyph:"next"}))})),e}return t=c,(n=[{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return a().createElement("div",{className:"ms-identify-swipe-header"},this.props.size>1&&a().createElement("div",{className:"ms-identify-swipe-header-arrow"},this.renderLeftButton()),a().createElement("div",{className:"ms-identify-swipe-header-title"},this.props.title),this.props.size>1&&a().createElement("div",{className:"ms-identify-swipe-header-arrow"},this.renderRightButton()))}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(a().Component);v(b,"propTypes",{title:o().string,index:o().number,size:o().number,container:o().oneOfType([o().object,o().func]),useButtons:o().bool,onPrevious:o().func,onNext:o().func,btnClassName:o().string}),v(b,"defaultProps",{useButtons:!0});const h=b},11196:(e,t,n)=>{"use strict";n.d(t,{mI:()=>i,Yy:()=>a});var r=n(67076),o=n(88798),i=(0,r.withHandlers)({onNext:function(e){var t=e.index,n=void 0===t?0:t,r=e.setIndex,o=void 0===r?function(){}:r,i=e.validResponses,a=void 0===i?[]:i;return function(){o(Math.min(a.length-1,n+1))}},onPrevious:function(e){var t=e.index,n=e.setIndex,r=void 0===n?function(){}:n;return function(){r(Math.max(0,t-1))}}}),a=(0,r.defaultProps)({format:(0,o.wR)(),validator:o.Te})},89912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r,o=n(24852),i=n(43033);const a=function(e){var t=e.map,n=e.onBoxEnd,a=e.status;return(0,o.useEffect)((function(){"start"===a?(r=new i.Z({condition:function(e){return e.originalEvent.altKey}}),t.addInteraction(r)):"end"===a&&t.removeInteraction(r)}),[a]),(0,o.useEffect)((function(){r&&r.on("boxend",(function(e){n({boxExtent:r.getGeometry().getExtent(),modifiers:{ctrl:e.mapBrowserEvent.pointerEvent.ctrlKey,metaKey:e.mapBrowserEvent.pointerEvent.metaKey}})}))}),[a]),null}},26105:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(24852),o=n.n(r),i=n(80307),a=n.n(i),u=n(45697),s=n.n(u),c=n(93409),p=n(47037),l=n.n(p),f=n(25064),y=n(21751);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function O(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new MutationObserver((function(){e.getMap().getSize()&&(e.setPosition(void 0),e.setPosition(n.coordinates))}));return r.observe(t,{attributes:!0,childList:!0,subtree:!0}),r},_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(s,e);var t,n,r,i,u=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(r);if(i){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function s(){var e;b(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(E(e=u.call.apply(u,[this].concat(n))),"onPopupClose",(function(t){e.props.onPopupClose(t)})),w(E(e),"renderPopups",(function(){return e.preparePopups().map((function(t){var n,r=t.popup,i=t.id,u=t.component,s=t.content,c=t.props,p=t.containerStyle,d=r.getElement(),m=l()(u)&&y.default[u]||u;return m?n=o().isValidElement(m)&&m||o().createElement(m,c):s&&(n=f.FP(s)?o().createElement("div",{dangerouslySetInnerHTML:{__html:s}}):s),d&&a().createPortal(o().createElement("div",{className:"map-popup-ol",key:i,onMouseUp:e.convertToClick},o().createElement("div",{className:"ol-popup-content-wrapper"},o().createElement("div",{className:"ol-popup-content",style:p},n)),o().createElement("div",{className:"ol-popup-closer",onClick:function(){return e.onPopupClose(i)}},"x")),d)}))})),w(E(e),"update",(function(){(e._popups||[]).map((function(e){var t=e.popup;t.setElement(t.getElement())}))})),w(E(e),"convertToClick",(function(e){var t=new MouseEvent("click",{bubbles:!0});t.stopPropagation=function(){},e.target.dispatchEvent(t)})),w(E(e),"preparePopups",(function(){var t=e.props,n=t.popups,r=void 0===n?[]:n,o=t.map,i=o.getSize();return(e._popups||[]).forEach((function(e){var t=e.popup,n=e.observer;n&&n.disconnect(),t&&o.removeOverlay(t)})),e._popups=r.map((function(e){var t=Math.round(.9*i[0])-40,n=Math.round(.9*i[1])-40,r=e.id,a=e.position.coordinates,u=e.className,s=e.maxWidth,p=void 0===s?t:s,l=e.maxHeight,y=void 0===l?n:l,d=e.autoPan,m=void 0!==d&&d,b=e.autoPanMargin,h=void 0===b?20:b,g=e.offset,O=void 0===g?[0,0]:g,E=e.autoPanAnimation,P=void 0===E?{duration:200}:E,w=p>t?t:p,_=y>n?n:y,x=f.fH(r,u),R=new c.Z({id:r,element:x,autoPan:m,offset:O,autoPanMargin:h,autoPanAnimation:P,positioning:"bottom-center",className:"ol-overlay-container ol-unselectable",position:a});return o.addOverlay(R),v({popup:R,observer:j(R,x,{coordinates:a}),containerStyle:{maxWidth:w,maxHeight:_}},e)})),e._popups})),w(E(e),"stopPropagationOnPointerMove",(function(e){e.stopPropagation()})),e}return t=s,(n=[{key:"UNSAFE_componentWillMount",value:function(){this.props.map&&this.props.map.getOverlayContainerStopEvent().addEventListener("pointermove",this.stopPropagationOnPointerMove)}},{key:"shouldComponentUpdate",value:function(e){return e.popups!==this.props.popups}},{key:"componentWillUnmount",value:function(){this.props.map&&this.props.map.getOverlayContainerStopEvent().removeEventListener("pointermove",this.stopPropagationOnPointerMove)}},{key:"render",value:function(){return o().createElement("div",null,this.renderPopups())}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o().Component);w(_,"propTypes",{map:s().object,popups:s().arrayOf(s().object),onPopupClose:s().func}),w(_,"defaultProps",{popups:[],onPopupClose:function(){}})},34637:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(){return n(3498).default,{Map:n(90596).Z,Layer:n(44054).Z,Feature:n(30072).Z,MeasurementSupport:n(5904).Z,Overview:n(22404).Z,ScaleBar:n(9056).Z,DrawSupport:n(6909).Z,PopupSupport:n(26105).Z,BoxSelectionSupport:n(89912).Z}}},21751:(e,t,n)=>{"use strict";n.r(t),n.d(t,{IDENTIFY_POPUP:()=>P,default:()=>w});var r=n(24852),o=n.n(r),i=n(73014),a=n(11196),u=n(67076),s=n(71703),c=n(22222),p=n(7877),l=n(21914),f=n(42872),y=n(1469),d=n.n(y),m=n(52353),v=n.n(m),b=n(79870),h=n(827),g=(0,u.compose)((0,s.connect)((0,c.P1)(p.Qf,(function(e){return{index:e}})),{setIndex:l.oO}),(0,u.defaultProps)({index:0,responses:[]})),O=(0,c.P1)([p.q7,p.o9,p.OK,p.us,p.x0,h.hp,p.vR],(function(e,t,n,r,o,i,a){return{responses:e,validResponses:t,requests:n,format:r,showEmptyMessageGFI:o,missingResponses:(n||[]).length-(e||[]).length,renderValidOnly:i,loaded:a}}));const E=(0,u.compose)((0,s.connect)(O),(0,u.defaultProps)({responses:[],container:function(e){var t=e.index,n=e.children;return o().createElement(o().Fragment,null,d()(n)&&n[t]||n)},header:b.Z}),g,a.Yy,a.mI,(0,i.Z)((function(e){var t=e.loaded;return v()(t)})))(f.Z);var P="identify";const w={identify:E}},38560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(30294),o=n(24852),i=n.n(o),a=n(94184),u=n.n(a),s=["disabled","className","onClick"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const p=(l=r.Button,i().forwardRef((function(e,t){var n=e.disabled,r=e.className,o=e.onClick,a=void 0===o?function(){}:o,p=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,s);return i().createElement(l,c({ref:t,className:n?u()("disabled",r):r,onClick:function(){n||a.apply(void 0,arguments)}},p),p.children)})));var l},82110:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(24852),o=n.n(r),i=n(96259),a=n(32425);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=function(e){var t=e.width,n=e.height,r=e.className,u=void 0===r?"loader-container":r,c=e.contentStyle,p=void 0===c?{}:c;return o().createElement("div",{className:u},o().createElement(i.Z,null,(function(e){var r=e.width,i=void 0===r?200:r,u=e.height,c=void 0===u?200:u,l=t||(c>0?Math.min(i,c):i),f=n||(c>0?Math.min(i,c):i),y=Math.min(l,f);return o().createElement(a.Z,{size:y,style:s({padding:y/10,margin:"auto",display:"flex"},p)})})))}},73014:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(24852),o=n.n(r),i=n(67076),a=n(82110);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}var s=function(e){var t=e.loading,n=e.isLoading;return t||n&&("function"==typeof n?n():!0===n)};const c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Z;return(0,i.branch)(e,(function(){return function(e){var r=e.loaderProps;return o().createElement(n,u({},t,r))}}))}},2870:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a,j:()=>u});var r=n(27361),o=n.n(r),i=n(53005),a=function(e,t){var n=e.format,r=e.queryParams,o=void 0===r?{}:r;return o.info_format||o.outputFormat||n&&i.O7[n]||t.format},u=function(e){return!!o()(e,"layer.search.url")}},8797:(e,t,n)=>{"use strict";n.d(t,{rp:()=>s,Ov:()=>p,wd:()=>l,L0:()=>f}),n(1469);var r=n(91175),o=n.n(r),i=n(7654),a=n.n(i);function u(e){var t=Math.floor(e),n=60*(e-t),r=Math.floor(n),o=60*(n-r);return t+"° "+r+"' "+Math.floor(o)+"'' "}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.measureTrueBearing,r=void 0!==n&&n,o=t.fractionDigits,i=void 0===o?0:o,a="";if(r){var s="";e>=0&&e<10?s="00":e>10&&e<100&&(s="0");var c=i>0?e.toFixed(i):Math.floor(e);a=s+c+"°"}else e>=0&&e<90?a="N "+u(e)+"E":e>90&&e<=180?a="S "+u(180-e)+"E":e>180&&e<270?a="S "+u(e-180)+"W":e>=270&&e<=360&&(a="N "+u(360-e)+"W");return a}var c={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return c[t]&&c[t][n]?e*c[t][n]:e}var l=function(e){return!a()(parseFloat(e[0]))&&!a()(parseFloat(e[1]))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,n=e.type,r=t;if("LineString"===n){if((r=t.filter(l)).length<2)return[]}else if("Polygon"===n){if((r=o()(t).filter(l)).length<3)return[[]];r=[r.concat([o()(r)])]}return r}},25064:(e,t,n)=>{"use strict";n.d(t,{fH:()=>i,FP:()=>a,R3:()=>u});var r=n(55877),o=n.n(r),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o()(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ms-map-popup",n=document.createElement("div");return n.setAttribute("id",e+"-map-popup"),n.setAttribute("class",t),n},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("<")},u=function(e,t){if(!t)return e;if(t instanceof Node){var n=document.createDocumentFragment();n.appendChild(t),e.appendChild(n)}else a(t)?e.innerHTML=t:e.append(document.createTextNode(String(t)));return e}},45992:(e,t,n)=>{"use strict";n.d(t,{h:()=>p,Z:()=>l});var r=n(35937),o=n.n(r),i=n(36882),a=n(37275);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e,t){var n,r,u,c,p=i.Z;if("custom"===e)n=t;else if(u=(c=e.split("."))[0],r=c[1],!(n=p[u]))throw new Error("No such provider ("+u+")");var l={url:n.url,options:n.options||{}};if(r&&"variants"in n){if(!(r in n.variants))throw new Error("No such variant of "+(u||n.url)+" ("+r+")");var f,y=n.variants[r];f="string"==typeof y?{variant:y}:y.options,l={url:y.url||l.url,options:s(s({},l.options||{}),f)}}else"function"==typeof l.url&&(l.url=l.url(c.splice(1,c.length-1).join(".")));var d="file:"===window.location.protocol||l.options.forceHTTP;0===l.url.indexOf("//")&&d&&(l.url="http:"+l.url),l.options.retina&&(t.detectRetina&&a.ZP.getBrowserProperties().retina?t.detectRetina=!1:l.options.retina=""),l.options.attribution&&(l.options.attribution=function e(t){return-1===t.indexOf("{attribution.")?t:t.replace(/\{attribution.(\w*)\}/,(function(t,n){return e(p[n].options.attribution)}))}(l.options.attribution));var m=s(s({},l.options),o()(t,(function(e){return void 0!==e})));return[l.url,m]};const l={getLayerConfig:p}},18056:(e,t,n)=>{"use strict";n.d(t,{XK:()=>i,Um:()=>a,ut:()=>u});var r=n(1469),o=n.n(r);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/(\{(.*?)\})/g,(function(){var e=arguments[0],n=arguments[2]?arguments[2]:arguments[1];if(["x","y","z"].includes(n))return arguments[0];var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"==typeof r&&(r=r(t)),r}))}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url||"",n=e.subdomains||"";return n&&("string"==typeof n&&(n=n.split("")),o()(n))?n.map((function(n){return i(t.replace("{s}",n),e)})):["a","b","c"].map((function(n){return i(t.replace("{s}",n),e)}))}var u=function(e){return(e.url.match(/(\{s\})/)?a(e):[i(e.url,e)])[0]}},23923:(e,t,n)=>{"use strict";n.d(t,{A4:()=>s,u3:()=>c});var r=n(23560),o=n.n(r);function i(e,t,n){var r=void 0!==n?e.toFixed(n):""+e,o=r.indexOf(".");return(o=-1===o?r.length:o)>t?r:new Array(1+t-o).join("0")+r}var a={standard:function(e){return function(t){return"EPSG:4326"===t?(n="x"===e?"EW":"NS",function(e){var t,r=(360*(t=(e+180)%360)<0?t+360:t)-180,o=Math.abs(3600*r),a=Math.floor(o/3600),u=Math.floor((o-3600*a)/60),s=o-3600*a-60*u;return(s=Math.ceil(s))>=60&&(s=0,u+=1),u>=60&&(u=0,a+=1),a+"° "+i(u,2)+"′ "+i(s,2,0)+"″"+(0===r?"":" "+n.charAt(r<0?1:0))}):function(e){return String(Math.round(e))};var n}}};function u(e,t,n){return o()(n)?n(e,t):a[n||"standard"](t)(e)}function s(e,t){return u(e,"x",t)}function c(e,t){return u(e,"y",t)}},84023:(e,t,n)=>{"use strict";n.d(t,{bL:()=>j,ZS:()=>_,uI:()=>q,XA:()=>C});var r=n(90173),o=n(86267),i=n(49232),a=n(23923),u=n(8400),s=n.n(u),c=n(75472),p=n.n(c),l=n(52259);function f(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){var r=v(e,2),o=r[0],i=r[1],a=v(t,2),u=a[0],s=a[1],c=v(n,2),p=c[0],l=c[1],f=p-u,y=l-s,d=u,m=s;if(0!==f||0!==y){var b=((o-u)*f+(i-s)*y)/(f*f+y*y);b>1?(d=p,m=l):b>0&&(d+=f*b,m+=y*b)}return function(e,t,n,r){return Math.pow(n-e,2)+Math.pow(r-t,2)}(o,i,d,m)}function O(e,t,n){var r=t(e);return{fraction:e,point:r,reprojected:n(r)}}function E(e,t,n,o){var i=(0,r.default)(t,n).forward,a=function(e,t,n){var r=e.map(t);return{fractions:e,line:r,reprojectedLine:r.map(n)}}([0,1],e,i),u=a.fractions,s=a.line,c=a.reprojectedLine,p=[];p=function(e,t){return e.push(t[0]),e.push(t[1]),e}(p,c[0]);for(var l=0;l<1e4&&u.length>0;){var f=u.shift(),y=u.shift(),d=s.shift(),m=s.shift(),v=c.shift(),b=c.shift(),h=O((f+y)/2,e,i),E=h.fraction,P=h.point,w=h.reprojected;g(w,v,b)<o?(p.push(b[0]),p.push(b[1])):(u.unshift(f,E,E,y),s.unshift(d,P,P,m),c.unshift(v,w,w,b)),l++}return p}function P(e,t,n){return Math.min(Math.max(e,t),n)}var w={degrees:[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],m:[1e7,5e6,2e6,1e6,5e5,2e5,1e5,5e4,2e4,1e4,5e3,2e3,1e3,500,200,100]};function j(e){var t,n=r.default.defs(e);return w[null!==(t=null==n?void 0:n.units)&&void 0!==t?t:"m"]}function _(e,t,n,r,o){var i=v(t,2),a=i[0],u=i[1],s=Math.pow(n*r,2);return e.reduce((function(e,t){var n=t/2,r=o([a-n,u-n]),i=o([a+n,u+n]);return Math.pow(i[0]-r[0],2)+Math.pow(i[1]-r[1],2)>s?t:e}),-1)}function x(e,t,n,r,o,i){return function(e,t,n,r,o,i){return E((function(r){return[t+(n-t)*r,e]}),r,o,i)}(e,t,n,o,i,r)}function R(e,t,n,r,o,i){return function(e,t,n,r,o,i){return E((function(r){return[e,t+(n-t)*r]}),r,o,i)}(e,t,n,o,i,r)}function S(e,t,n,r,o){return e.map((function(e,i){var a=function(e,t,n){var r=Math.max(t[1],e[1]),o=Math.min(t[3],e[e.length-1]),i=P(t[1]+Math.abs(t[1]-t[3])*n,r,o);return[e[0],i]}(e,t,r);return{geom:a,text:n(e[0],d(d({},o),{},{index:i,extent:t}))}}))}function I(e,t,n,r,o){return e.map((function(e,i){var a=function(e,t,n){var r=Math.max(t[0],e[0]),o=Math.min(t[2],e[e.length-2]);return[P(t[0]+Math.abs(t[0]-t[2])*n,r,o),e[1]]}(e,t,r);return{geom:a,text:n(e[1],d(d({},o),{},{index:i,extent:t}))}}))}function T(e,t,n,r){return f(Array(function(e,t,n){return Math.round((t-e)/n)+1}(n,r,Math.abs(t))-1).keys()).map((function(o){return P(e+(o+1)*t,n,r)}))}function M(e,t){return(0,i.Z)({type:"Feature",geometry:{type:"LineString",coordinates:[[e[0],e[1]],[e[2],e[3]]]}},(0,o.bboxToFeatureGeometry)(t))}function N(e,t){return e.slice(0,t)}function F(e){var t=v(e,4),n=t[0],r=t[1],o=t[2],i=t[3];return[[n,r],[o,r],[o,i],[n,i],[n,r]]}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=v(e,4),r=n[0],o=n[1],i=n[2],a=n[3],u=Math.max(i-r,a-o)*t/2,s=[r-u,o-u,i+u,a+u],c=[r+u,o+u,i-u,a-u];return{exterior:F(s),interior:F(c)}}function q(e,t,n,i,a,u,s,c,l,y,d,m,b,h){var g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:{};if(-1===e)return{xLines:[],yLines:[],xLabels:[],yLabels:[],frame:null};var O=(0,r.default)(t,n).forward,E=O(u),w=v(E,2),j=w[0],_=w[1],F=(0,o.reprojectBbox)([Math.max(i[0],a[0]),Math.max(i[1],a[1]),Math.min(i[2],a[2]),Math.min(i[3],a[3])],t,n||"EPSG:4326"),q=v(F,4),L=q[0],C=q[1],k=q[2],D=q[3],G=(0,o.reprojectBbox)(a,t,n||"EPSG:4326"),Z=v(G,4),U=Z[0],B=Z[1],Y=Z[2],H=Z[3],W=P(Math.floor(j/e)*e,U,Y),X=p()(T(W,-e,U,W)),z=p()(T(W,e,W,Y)),K=P(Math.floor(_/e)*e,B,H),V=p()(T(K,-e,B,K)),Q=p()(T(K,e,K,H)),$=N([].concat(f(X),[W],f(z)).map((function(e){return R(e,C,D,s,n||"EPSG:4326",t)})).filter((function(e){return M(e,i)})),c),J=N([].concat(f(V),[K],f(Q)).map((function(e){return x(e,L,k,s,n||"EPSG:4326",t)})).filter((function(e){return M(e,i)})),c),ee=h?A(i,h):null;return{xLines:$,yLines:J,xLabels:l?S($,i,y,m,g):[],yLabels:l?I(J,i,d,b,g):[],frame:ee}}function L(e){return[(e[2]+e[0])/2,(e[3]+e[1])/2]}function C(e){var t=e.mapProjection,n=e.gridProjection,i=e.extent,u=e.center,c=void 0===u?null:u,p=e.zoom,y=e.withLabels,m=void 0!==y&&y,v=e.xLabelFormatter,b=e.yLabelFormatter,h=e.xLabelPosition,g=void 0===h?0:h,O=e.yLabelPosition,E=void 0===O?1:O,P=e.maxLines,w=void 0===P?100:P,x=e.intervals,R=e.targetSize,S=void 0===R?100:R,I=e.resolutions,T=e.xLabelStyle,M=e.yLabelStyle,N=e.pixelRatio,F=void 0===N?devicePixelRatio:N,A=e.frameSize,C=void 0===A?0:A,k=(null!=I?I:(0,l.getResolutions)(t))[p],D=(0,r.default)(t,n).forward,G=(0,r.default)(n,t).forward,Z=D(L((0,o.getExtentForProjection)(n).extent)),U=_(null!=x?x:j(n),Z,S,k,G),B=k*k/(4*F*F),Y=q(U,t,n,i,(0,o.getExtentForProjection)(t).extent,null!=c?c:L(i),B,w,m,(0,a.A4)(n,v),(0,a.u3)(n,b),g,E,C,{center:c,resolution:k,interval:U}),H=[].concat(f(Y.xLines),f(Y.yLines)).map((function(e){return{type:"Feature",properties:{ms_style:"lines"},geometry:{type:"LineString",coordinates:s()(e,2)}}})),W=f(Y.xLabels).map((function(e){return{type:"Feature",properties:{ms_style:T?d(d({},T),{},{label:e.text}):"xlabels",valueText:e.text},geometry:{type:"Point",coordinates:e.geom}}})),X=f(Y.yLabels).map((function(e){return{type:"Feature",properties:{ms_style:M?d(d({},M),{},{label:e.text}):"ylabels",valueText:e.text},geometry:{type:"Point",coordinates:e.geom}}})),z=Y.frame?[Y.frame].map((function(e){return{type:"Feature",properties:{ms_style:"frame"},geometry:{type:"Polygon",coordinates:[e.exterior,e.interior]}}})):[];return{type:"FeatureCollection",features:[].concat(f(H),f(z),f(W),f(X))}}}}]);